
#include <behaviors.dtsi>
#include <dt-bindings/zmk/keys.h>
#include <dt-bindings/zmk/bt.h>

#define DEFAULT 0
#define SYMBOLS 1
#define NUMBERS 2
#define BT 3

/ {
    keymap {
        compatible = "zmk,keymap";

        default_layer {
            bindings = <
                &to SYMBOLS &kp A     &kp F         &kp G          &kp B
                &kp LEFT    &kp RIGHT &macro_st     &macro_end     &macro_close
                &kp ENTER   &kp K     &kp SPACE     &kp LC(C)      &lt BT LC(V)
            >;
        };

        symbols_layer {
            bindings = <
                &to NUMBERS &trans    &trans        &trans         &trans
                &trans      &HOME     &UP           &END           &CAPS
                &ENTER      &LEFT     &DOWN         &RIGHT         &trans
            >;
        };

        numbers_layer {
            bindings = <
                &to DEFAULT  &trans   &trans        &trans         &trans
                &kp N6       &kp N7   &kp N8        &kp N9         &kp N0
                &kp N1       &kp N2   &kp N3        &kp N4         &kp N5
            >;
        };

        bt_layer {
            bindings = <
                &none        &none        &none        &none        &none
                &bt BT_CLR   &none        &none        &none        &none
                &bt BT_SEL 1 &bt BT_SEL 2 &bt BT_SEL 3 &bt BT_SEL 4 &none
            >;
        };
    };

    a
    macros {
        zed_em_kay: zed_em_kay {
            label = "ZM_zed_em_kay";
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&macro_press &kp LSHFT>
                , <&macro_tap &kp Z &kp M &kp K>
                , <&macro_release &kp LSHFT>
                ;
        };

        macro_st: start_line {
            label = "start_line";
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&macro_tap &kp SPACE>
                , <&macro_tap &kp S>
                , <&macro_tap &kp T>
                ;
        };

        macro_end: end_line {
            label = "end_line";
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&macro_tap &kp SPACE>
                , <&macro_tap &kp E>
                , <&macro_tap &kp L>
                ;
        };

        macro_close: close_line {
            label = "close_line";
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&macro_tap &kp SPACE>
                , <&macro_tap &kp C>
                , <&macro_tap &kp L>
                , <&macro_tap &kp O>
                ;
        };

        macro_el_SKP: el_SKP {
            label = "el_SKP";
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&macro_tap &kp SPACE>
                , <&macro_tap &kp E>
                , <&macro_tap &kp L>
                , <&macro_tap &kp UNDER>
                , <&macro_tap &kp S>
                , <&macro_tap &kp K>
                , <&macro_tap &kp P>
                ;
        };
    };
};